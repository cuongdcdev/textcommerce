# tc_core_orders_library v Alpha 0.3
# Required core library.
# culturezoo
# http://textcommerce.org

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjc6InZlcnNpb24iO3M6MTA6IiBBbHBoYSAwLjMiO3M6NjoiYXV0aG9yIjtzOjEw
OiJjdWx0dXJlem9vIjtzOjEwOiJhdXRob3JfdXJpIjtzOjIzOiJodHRwOi8vdGV4dGNvbW1l
cmNlLm9yZyI7czoxMToiZGVzY3JpcHRpb24iO3M6MjI6IlJlcXVpcmVkIGNvcmUgbGlicmFy
eS4iO3M6NDoidHlwZSI7aToxO3M6NDoibmFtZSI7czoyMjoidGNfY29yZV9vcmRlcnNfbGli
cmFyeSI7czo0OiJoZWxwIjtzOjEwMjoiCkZvciBkaXNwbGF5IGluZm9ybWF0aW9uIHZpc2l0
OgpodHRwOi8vaG9tZXBsYXRld3AuY29tL1RleHRDb21tZXJjZS9hcnRpY2xlLzY3L3RjX3By
b2R1Y3RfZGlzcGxheS0wMDEKIjtzOjQ6ImNvZGUiO3M6MTY4NzA6IiRwbHVnaW5bJ3ZlcnNp
b24nXSA9ICcgQWxwaGEgMC4zJzsKJHBsdWdpblsnYXV0aG9yJ10gPSAnY3VsdHVyZXpvbyc7
CiRwbHVnaW5bJ2F1dGhvcl91cmknXSA9ICdodHRwOi8vdGV4dGNvbW1lcmNlLm9yZyc7CiRw
bHVnaW5bJ2Rlc2NyaXB0aW9uJ10gPSAnUmVxdWlyZWQgY29yZSBsaWJyYXJ5Lic7CiRwbHVn
aW5bJ3R5cGUnXSA9IDE7IC8vIDAgZm9yIHJlZ3VsYXIgcGx1Z2luOyAxIGlmIGl0IGluY2x1
ZGVzIGFkbWluLXNpZGUgY29kZQoKQGluY2x1ZGVfb25jZSgnemVtX3RwbC5waHAnKTsKCmlm
ICgwKSB7Cj8+CiMgLS0tIEJFR0lOIFBMVUdJTiBIRUxQIC0tLQoKRm9yIGRpc3BsYXkgaW5m
b3JtYXRpb24gdmlzaXQ6Cmh0dHA6Ly9ob21lcGxhdGV3cC5jb20vVGV4dENvbW1lcmNlL2Fy
dGljbGUvNjcvdGNfcHJvZHVjdF9kaXNwbGF5LTAwMQoKIyAtLS0gRU5EIFBMVUdJTiBIRUxQ
IC0tLQo8P3BocAp9CgoKCmZ1bmN0aW9uIG9yZGVyc19lZGl0KCRldmVudCwgJHN0ZXAsICRt
ZXNzYWdlPScnKXsKCgkJZ2xvYmFsICRzdGF0dXNlcywgJGNvbW1lbnRzX2Rpc2FibGVkX2Fm
dGVyLCAkc3RlcCwgJHR4cF91c2VyOwoKCQlwYWdldG9wKCJPcmRlciBFZGl0IiwgJG1lc3Nh
Z2UpOwoKCQlleHRyYWN0KGRvU2xhc2goJF9SRVFVRVNUKSk7CgoJCSRzcWwgPSAiCgkJCVNF
TEVDVCAqCgkJCUZST00gb3JkZXJzCgkJCUpPSU4gdHhwX3VzZXJzIEFTIHVzZXJzIE9OIHVz
ZXJzLnVzZXJfaWQgPSBvcmRlcnMudXNlcl9pZAoJCQlXSEVSRSBvcmRlcnMuaWQgPSAkaWQi
OwoKCQkkb3JkZXIgPSBzYWZlX3F1ZXJ5KCRzcWwpOwoKCQkkb3JkZXIgPSBteXNxbF9mZXRj
aF9hc3NvYygkb3JkZXIpOwoKCQlleHRyYWN0KCRvcmRlcik7CgoJCSRzcWwgPSAiCgkJCVNF
TEVDVCAqCgkJCUZST00gdGV4dHBhdHRlcm4gQVMgdHhwCgkJCUpPSU4gb3JkZXJzX2FydGlj
bGVzIEFTIG9hCgkJCU9OIG9hLmFydGljbGVfaWQgPSB0eHAuSUQKCQkJV0hFUkUgb2Eub3Jk
ZXJfaWQgPSAkaWQiOwoKCQkkcHJvZHVjdHMgPSBzYWZlX3F1ZXJ5KCRzcWwpOwoKCgkJLy9l
Y2hvICI8aDQgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyOyc+Q29taW5nIHNvb248L2g0PiI7
CgoKCQkvL0NTUyBGT1IgQ1VTVE9NRVIgRURJVAoJCS8vPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQoJCWVjaG8gbi4nPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nLgoJCQkg
IG4uJy5jdXN0b21lckVkaXQgbGVnZW5keycuCgkJCSBuLicJZm9udC1zaXplOiAxMXB4Oycu
CgkJCSBuLicJZm9udC13ZWlnaHQ6IGJvbGQ7Jy4KCQkJIG4uJ30nLgoKCQkJIG4uJy5jdXN0
b21lckVkaXQgbGFiZWx7Jy4KCQkJIG4uJwlmbG9hdDogbGVmdDsnLgoJCQkgbi4nCXdpZHRo
OiAxMDBweDsnLgoJCQkgbi4nCXRleHQtYWxpZ246IHJpZ2h0OycuCgkJCSBuLicJcGFkZGlu
ZzogOHB4IDVweCA1cHggNXB4OycuCgkJCSBuLid9Jy4KCgkJCSBuLicuY3VzdG9tZXJFZGl0
IGJyeycuCgkJCSBuLicJY2xlYXI6IGJvdGg7Jy4KCQkJIG4uJ30nLgoKCQkJIG4uJy5jdXN0
b21lckVkaXQgcC5kZXNjeycuCgkJCSBuLicJcGFkZGluZzogMHB4OyBmb250LXNpemU6IDEw
cHg7IGZvbnQtc3R5bGU6aXRhbGljOyBwYWRkaW5nLWxlZnQ6IDExMHB4OyBjb2xvcjpncmF5
OycuCgkJCSBuLid9Jy4KCgkJCSBuLicuY3VzdG9tZXJFZGl0IGlucHV0LCBzZWxlY3R7Jy4K
CQkJIG4uJwltYXJnaW46IDVweCAwIDVweCAwOycuCgkJCSBuLicJZm9udC1zaXplOiAxMXB4
OycuCgkJCSBuLid9Jy4KCQkJIG4uJy5kYXRhIHsnLgoJCQkgbi4nIHdpZHRoOjEwMCU7Jy4K
CQkJIG4uJ30nLgoJCQkgbi4nLmRhdGEgdGggeycuCgkJCSBuLicgdGV4dC1hbGlnbjpsZWZ0
OyBjb2xvcjpncmF5OyBmb250LXNpemU6IDEwcHg7Jy4KCQkJIG4uJ30nLgoKCgkJCSBuLic8
L3N0eWxlPic7CgoJCWRvSlMoKTsKCgkJJHN0ZXAgPSAndXBkYXRlX29yZGVyJzsKCgkJZWNo
byBuLm4uJzxmb3JtIG5hbWU9Imxvbmdmb3JtIiBtZXRob2Q9InBvc3QiIGFjdGlvbj0iaW5k
ZXgucGhwIj4nOwoKCQllY2hvIGhJbnB1dCgnaWQnLCAkaWQpLgoJCQllSW5wdXQoJ29yZGVy
cycpLgoJCQlzSW5wdXQoJHN0ZXApLgoJCQknPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0i
dmlldyIgLz4nLgoKCQkJc3RhcnRUYWJsZSgnZWRpdCcpLgoKICAJCSc8dHI+Jy5uOwoKCQkv
L2lmICgkdmlldyA9PSAndGV4dCcpCgkJLy97CgoJCQkJCS8vLS0gbWFya3VwIGhlbHAgLS0t
LS0tLS0tLS0tLS0KCgoKCQllY2hvICc8dGQgaWQ9ImFydGljbGUtbWFpbiI+Jy5uOwoJCWVj
aG8gIjxmaWVsZHNldCBjbGFzcz0nY3VzdG9tZXJFZGl0Jz4iLgoJCQkgIG4uIjxsZWdlbmQ+
UHJvZHVjdHM8L2xlZ2VuZD4iOwoJCQkgIGVjaG8gbi4iPHRhYmxlIGNsYXNzPSdkYXRhJz48
dHI+IjsKCQkJICBlY2hvIG4uIjx0aD5Qcm9kdWN0PC90aD48dGg+UHJpY2U8L3RoPjx0aD5R
dWFudGl0eTwvdGg+PC90cj4iOwoJCQkgIHdoaWxlKCRwcm9kdWN0ID0gbXlzcWxfZmV0Y2hf
YXNzb2MoJHByb2R1Y3RzKSl7CgkJCSAgCQlleHRyYWN0KCRwcm9kdWN0KTsKCQkJICAJCWVj
aG8gIjx0cj48dGQ+JFRpdGxlPC90ZD48dGQ+JCRjdXN0b21fMTwvdGQ+PHRkPiRxdWFudGl0
eTwvdGQ+PC90cj4iOwoJCQkgIH0KCQkJICBlY2hvIG4uIjwvdHI+PC90YWJsZT4iOwoJCQkg
IGVjaG8gIjxoci8+IjsKCQkJICBlY2hvIG4uIjx0YWJsZT48dHI+PHRkPjxzdHJvbmc+U3Vi
dG90YWw6PC9zdHJvbmc+PC90ZD48dGQ+ICQkc3VidG90YWw8L3RkPjwvdHI+Ii5uOwoJCQkg
IGVjaG8gbi4iPHRyPjx0ZD48c3Ryb25nPlRheDo8L3N0cm9uZz48L3RkPjx0ZD4gJCR0YXg8
L3RkPjwvdHI+Ii5uOwoKCQkJICBlY2hvIG4uIjx0cj48dGQ+PHN0cm9uZz5TaGlwcGluZyAm
YW1wOyBIYW5kbGluZzo8L3N0cm9uZz48L3RkPjx0ZD4gJCRzaGlwcGluZ19oYW5kbGluZzwv
dGQ+PC90cj4iLm47CgoJCQkgIGlmKCFlbXB0eSgkZGlzY291bnQpKXsKCQkJICAJZWNobyBu
LiI8dHI+PHRkPjxzdHJvbmc+RGlzY291bnQ6PC9zdHJvbmc+PC90ZD48dGQ+ICQkZGlzY291
bnQ8L3RkPjwvdHI+Ii5uOwoJCQkgIH0KCgkJCSAgZWNobyBuLiI8dHI+PHRkPjxzdHJvbmc+
VG90YWw6PC9zdHJvbmc+IDwvdGQ+PHRkPjxzdHJvbmc+JCR0b3RhbDwvc3Ryb25nPjwvdGQ+
PC90cj48L3RhYmxlPiIubjsKCgkJCSAgZWNobyBuLic8L2ZpZWxkc2V0Pic7CgoJCSAgZWNo
byAiPGZpZWxkc2V0IGNsYXNzPSdjdXN0b21lckVkaXQnPiI7CgkJCSAgZWNobyAiPHRhYmxl
Pjx0cj4iOwoJCQkgIGlmKGlzc2V0KCRzaGlwcGluZ19zYW1lX2FzX2JpbGxpbmcpICYmICRz
aGlwcGluZ19zYW1lX2FzX2JpbGxpbmcgPT0gIjEiKXsKCQkJICAJIGVjaG8gJzx0ZD48c3Ry
b25nPlNoaXAgdG8gPC9zdHJvbmc+WzxhIGhyZWY9Ij9ldmVudD1jdXN0b21lcnMmc3RlcD1l
ZGl0X2N1c3RvbWVyJnVzZXJfaWQ9Jy4kdXNlcl9pZC4nIj5lZGl0PC9hPl0nLmJyLiRSZWFs
TmFtZS5ici4kYmlsbGluZ19hZGRyZXNzMS5icjsKCQkJICAJIGlmKGlzc2V0KCRiaWxsaW5n
X2FkZHJlc3MyKSAmJiAhZW1wdHkoJGJpbGxpbmdfYWRkcmVzczIpKXsKCQkJICAJIAllY2hv
ICRiaWxsaW5nX2FkZHJlc3MyLmJyOwoJCQkgIAkgfQoJCQkgIAkgZWNobyAkYmlsbGluZ19j
aXR5LicsICc7CgkJCSAgCSBlY2hvICRiaWxsaW5nX3N0YXRlLicgJzsKCQkJICAJIGVjaG8g
JGJpbGxpbmdfemlwLmJyOwoJCQkgIAkgZWNobyAkYmlsbGluZ19jb3VudHJ5Lic8L3RkPic7
CgkJCSAgfWVsc2V7CgkJCSAgCSBlY2hvICc8dGQ+Jy4kc2hpcHBpbmdfYWRkcmVzczEuYnI7
CgkJCSAgCSBpZihpc3NldCgkc2hpcHBpbmdfYWRkcmVzczIpKXsKCQkJICAJIAllY2hvICRz
aGlwcGluZ19hZGRyZXNzMi5icjsKCQkJICAJIH0KCQkJICAJIGVjaG8gJHNoaXBwaW5nX2Np
dHkuYnI7CgkJCSAgCSBlY2hvICRzaGlwcGluZ19zdGF0ZS5icjsKCQkJICAJIGVjaG8gJHNo
aXBwaW5nX3ppcC5icjsKCQkJICAJIGVjaG8gJHNoaXBwaW5nX2NvdW50cnkuJzwvdGQ+JzsK
CQkJICB9CgoJCQkgIGVjaG8gbi4iPHRkIHN0eWxlPSdwYWRkaW5nLWxlZnQ6MTBweDsnPjxz
dHJvbmc+QmlsbCB0byA8L3N0cm9uZz5bPGEgaHJlZj1cIj9ldmVudD1jdXN0b21lcnMmc3Rl
cD1lZGl0X2N1c3RvbWVyJnVzZXJfaWQ9JHVzZXJfaWRcIj5lZGl0PC9hPl0iLmJyOwoJCQkg
IGVjaG8gJFJlYWxOYW1lLmJyLiRiaWxsaW5nX2FkZHJlc3MxLmJyOwoJCQkgIGlmKGlzc2V0
KCRiaWxsaW5nX2FkZHJlc3MyKSAmJiAhZW1wdHkoJGJpbGxpbmdfYWRkcmVzczIpKXsKCQkJ
CWVjaG8gJGJpbGxpbmdfYWRkcmVzczIuYnI7CgkJCSAgfQoJCQkgIGVjaG8gJGJpbGxpbmdf
Y2l0eS4nLCAnOwoJCQkgIGVjaG8gJGJpbGxpbmdfc3RhdGUuJyAnOwoJCQkgIGVjaG8gJGJp
bGxpbmdfemlwLmJyOwoJCQkgIGVjaG8gJGJpbGxpbmdfY291bnRyeS4nPC90ZD4nOwoKCQkJ
ICBlY2hvICI8L3RyPjwvdGFibGU+Ii5icjsKCQkJICBlY2hvIG4uIjxwIHN0eWxlPSdwYWRk
aW5nLWxlZnQ6M3B4Oyc+PHN0cm9uZz5QYXltZW50IGluZm88L3N0cm9uZz4iLmJyOwoJCQkg
IGVjaG8gbi4nTWV0aG9kOiAnLiRwYXltZW50X21ldGhvZC5ici4KCQkJICAJICAgbi4nVHJh
bnNhY3Rpb24gSUQ6ICcuJHRyYW5zYWN0aW9uX2lkLmJyLic8L3A+JzsKCQkJICBlY2hvIG4u
JzwvZmllbGRzZXQ+JzsKCgkJICBlY2hvICI8ZmllbGRzZXQgY2xhc3M9J2N1c3RvbWVyRWRp
dCc+Ii4KCQkgIG4uIjxsZWdlbmQ+T3JkZXIgVXBkYXRlPC9sZWdlbmQ+IjsKCgkJICBpZihp
c3NldCgkc2hpcF9kYXRlKSAmJiAhZW1wdHkoJHNoaXBfZGF0ZSkpewoJCSAgCSAkc2hpcF9k
YXRlID0gc3RydG90aW1lKCRzaGlwX2RhdGUpOwoJCSAgCSAkc2hpcF95ZWFyID0gZGF0ZSgi
WSIsICRzaGlwX2RhdGUpOwoJCSAgCSAkc2hpcF9tb250aCA9IGRhdGUoIm0iLCAkc2hpcF9k
YXRlKTsKCQkgIAkgJHNoaXBfZGF5ID0gZGF0ZSgiZCIsICRzaGlwX2RhdGUpOwoJCSAgfWVs
c2V7CgkJICAJICRzaGlwX3llYXIgPSBkYXRlKCJZIik7CgkJICAJICRzaGlwX21vbnRoID0g
ZGF0ZSgibSIpOwoJCSAgCSAkc2hpcF9kYXkgPSBkYXRlKCJkIik7CgkJICB9CgoJCSAgaWYo
aXNzZXQoJG9yZGVyX3N0YXR1cykpewoKCQkgIAlpZigkb3JkZXJfc3RhdHVzID09ICJwZW5k
aW5nIil7CgkJICAJCSRwZW5kaW5nX3NlbGVjdGVkID0gInNlbGVjdGVkPSd0cnVlJyI7CgoJ
CSAgCX1lbHNlIGlmKCRvcmRlcl9zdGF0dXMgPT0gImFwcHJvdmVkIil7CgkJICAJCSRhcHBy
b3ZlZF9zZWxlY3RlZCA9ICJzZWxlY3RlZD0ndHJ1ZSciOwoKCQkgIAl9ZWxzZSBpZigkb3Jk
ZXJfc3RhdHVzID09ICJzaGlwcGVkIil7CgkJICAJCSRzaGlwcGVkX3NlbGVjdGVkID0gInNl
bGVjdGVkPSd0cnVlJyI7CgoJCSAgCX1lbHNlIGlmKCRvcmRlcl9zdGF0dXMgPT0gImRlY2xp
bmVkIil7CgkJICAJCSRkZWNsaW5lZF9zZWxlY3RlZCA9ICJzZWxlY3RlZD0ndHJ1ZSciOwoK
CQkgIAl9ZWxzZSBpZigkb3JkZXJfc3RhdHVzID09ICJ2b2lkIil7CgkJICAJCSR2b2lkX3Nl
bGVjdGVkID0gInNlbGVjdGVkPSd0cnVlJyI7CgkJICAJfQoJCSAgfQoKCQkgIGVjaG8KCQkg
IG4uJzxsYWJlbCBmb3I9Im9yZGVyX3N0YXR1cyI+U3RhdHVzPC9sYWJlbD4nLgoJCSAgbi4n
PHNlbGVjdCBpZD0ib3JkZXJfc3RhdHVzIiBuYW1lPSJvcmRlcl9zdGF0dXMiPicuCgkJICBu
LicJPG9wdGlvbiB2YWx1ZT0icGVuZGluZyIgJy4kcGVuZGluZ19zZWxlY3RlZC4nPlBlbmRp
bmc8L29wdGlvbj4nLgoJCSAgbi4nCTxvcHRpb24gdmFsdWU9ImFwcHJvdmVkIiAnLiRhcHBy
b3ZlZF9zZWxlY3RlZC4nPkFwcHJvdmVkPC9vcHRpb24+Jy4KCQkgIG4uJwk8b3B0aW9uIHZh
bHVlPSJzaGlwcGVkIiAnLiRzaGlwcGVkX3NlbGVjdGVkLic+U2hpcHBlZDwvb3B0aW9uPicu
CgkJICBuLicJPG9wdGlvbiB2YWx1ZT0iZGVjbGluZWQiICcuJGRlY2xpbmVkX3NlbGVjdGVk
Lic+RGVjbGluZWQ8L29wdGlvbj4nLgoJCSAgbi4nCTxvcHRpb24gdmFsdWU9InZvaWQiICcu
JHZvaWRfc2VsZWN0ZWQuJz5Wb2lkPC9vcHRpb24+Jy4KCQkgIG4uJzwvc2VsZWN0PicuYnIu
CgkJICBuLic8bGFiZWwgZm9yPSJzaGlwX3llYXIiPlNoaXAgRGF0ZTwvbGFiZWw+Jy4KCQkg
IG4ubGlzdGJveF95ZWFyKCdzaGlwX3llYXInLCAnMjAwNCcsIGRhdGUoJ1knKSwgJHNoaXBf
eWVhcikgLiAnICcgLiBnZXRfaHRtbF9zZWxlY3RfbW9udGgoInNoaXBfbW9udGgiLCAkc2hp
cF9tb250aCkuCgkJICBuLic8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ic2hpcF9kYXkiIHZh
bHVlPSInLiRzaGlwX2RheS4nIiBzdHlsZT0id2lkdGg6IDIwcHg7Ii8+ICZuYnNwOyAnLiBi
ciAuCgkJICBuLic8bGFiZWwgZm9yPSJzaGlwX25vdyI+Jm5ic3A7PC9sYWJlbD48ZGl2IHN0
eWxlPSJmbG9hdDpsZWZ0OyBwYWRkaW5nLXRvcDogNXB4OyBwYWRkaW5nLXJpZ2h0OjRweDsi
PlNoaXBwZWQgdG9kYXk8L2Rpdj4gPGlucHV0IGlkPSJzaGlwX25vdyIgdHlwZT0iY2hlY2ti
b3giIG5hbWU9InNoaXBfbm93IiB2YWx1ZT0iJy5kYXRlKCdZLW0tZCcpLiciIHN0eWxlPSJm
bG9hdDpub25lOyIvPicuIGJyLgoJCSAgbi4nPGxhYmVsIGZvcj0ic2hpcF9tZXRob2QiPlNo
aXAgbWV0aG9kPC9sYWJlbD4nLgoJIAkgIG4uJzxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJz
aGlwX21ldGhvZCIgaWQ9InNoaXBfbWV0aG9kIiB2YWx1ZT0iJy4kc2hpcF9tZXRob2QuJyIv
PiAmbmJzcDsgJy4gYnIuCgkgCSAgbi4nPHAgY2xhc3M9ImRlc2MiPkV4YW1wbGU6IFVTUFMg
UHJpb3JpdHksIEZlZEV4LCBldGMuPC9wPicuCgkgCSAgbi4nPGxhYmVsIGZvcj0idHJhY2tp
bmdfbnVtYmVyIj5UcmFja2luZyBudW1iZXI8L2xhYmVsPicuCgkgCSAgbi4nPGlucHV0IHR5
cGU9InRleHQiIG5hbWU9InRyYWNraW5nX251bWJlciIgaWQ9InRyYWNraW5nX251bWJlciIg
dmFsdWU9IicuJHRyYWNraW5nX251bWJlci4nIi8+ICZuYnNwOyAnLiBici4KCgkJICBuLic8
bGFiZWwgZm9yPSJub3RlIj5Ob3RlPC9sYWJlbD4nLgoJIAkgIG4uJzx0ZXh0YXJlYSBuYW1l
PSJub3RlIiBpZD0ibm90ZSIvPicuJG5vdGUuJzwvdGV4dGFyZWE+Jy4gYnIgLiBicjsKCQkg
IGVjaG8gbi4nPC9maWVsZHNldD4nOwoKCQllY2hvICc8L3RkPic7CgkJZWNobyAnPHRkIGlk
PSJhcnRpY2xlLWNvbC0yIiBzdHlsZT0icGFkZGluZy10b3A6IDEzcHg7Ij4nOyAvL3N0YXJ0
IGFydGljbGUtY29sLTIKCQllY2hvICc8YSBocmVmPSI/ZXZlbnQ9Y3VzdG9tZXJzJnN0ZXA9
ZWRpdF9jdXN0b21lciIgY2xhc3M9Im5hdmxpbmsiPlByaW50IHBhY2tpbmcgc2xpcDwvYT4n
LmJyLmJyOwoJCS8vLS0gcHVibGlzaCBidXR0b24gLS0tLS0tLS0tLS0tLS0KCQllY2hvCgkJ
KGhhc19wcml2cygnYXJ0aWNsZS5wdWJsaXNoJykpID8KCQlmSW5wdXQoJ3N1Ym1pdCcsJ3B1
Ymxpc2gnLGdUeHQoJ3VwZGF0ZScpLCJwdWJsaXNoIiwgJycsICcnLCAnJywgNCkgOgoJCWZJ
bnB1dCgnc3VibWl0JywncHVibGlzaCcsZ1R4dCgndXBkYXRlJyksInB1Ymxpc2giLCAnJywg
JycsICcnLCA0KTsKCgkJaWYoJHVzZXJfaWQpewoKCQkJJG9yZGVycyA9IHNhZmVfcm93cygi
KiIsICJvcmRlcnMiLCAidXNlcl9pZCA9ICR1c2VyX2lkIEFORCBpZCAhPSAkaWQgT1JERVIg
QlkgbGFzdF91cGRhdGVkIERFU0MiKTsKCQkJaWYoY291bnQoJG9yZGVycykgPiAwKXsKCQkJ
CWVjaG8gYnIuYnIuIjxmaWVsZHNldD4iLgoJCQkJCQluLic8bGVnZW5kPk90aGVyIE9yZGVy
cyBieSAnLiAkUmVhbE5hbWUgLic8L2xlZ2VuZD4nLgoJCQkJCQluLic8dWwgY2xhc3M9InBs
YWluLWxpc3QiPic7CgoJCQkJCQlmb3JlYWNoKCRvcmRlcnMgYXMgJG9yZGVyKXsKCQkJCQkJ
CWVjaG8gbi4nPGxpPjxhIGhyZWY9Ij9ldmVudD1vcmRlcnMmc3RlcD1lZGl0X29yZGVyJmlk
PScuJG9yZGVyWydpZCddLiciPk9SREVSICMnLiRvcmRlclsnaWQnXS4nPC9hPiA8ZW0gc3R5
bGU9ImZvbnQtc2l6ZToxMHB4OyI+Jy5kYXRlKCdNIGogeScsIHN0cnRvdGltZSgkb3JkZXJb
J2RhdGVfY3JlYXRlZCddKSkuJzwvZW0+PC9saT4nOwoJCQkJCQl9CgkJCQkJCW4uJzwvdWw+
JzsKCQkJCWVjaG8gJzwvZmllbGRzZXQ+JzsKCQkJfQoKCQl9CgkJZWNobyAnPC90ZD48L3Ry
PjwvdGFibGU+PC9mb3JtPic7CgoJfQoKCgoKCgpmdW5jdGlvbiBvcmRlcnNfbGlzdCgkZXZl
bnQsICRzdGVwLCAkbWVzc2FnZT0nJyl7CgoJCWdsb2JhbCAkc3RhdHVzZXMsICRjb21tZW50
c19kaXNhYmxlZF9hZnRlciwgJHN0ZXAsICR0eHBfdXNlcjsKCgkJcGFnZXRvcCgiT3JkZXJz
IiwgJG1lc3NhZ2UpOwoKCQlleHRyYWN0KGdldF9wcmVmcygpKTsKCQlleHRyYWN0KGRvU2xh
c2goJF9SRVFVRVNUKSk7CgkJZXh0cmFjdChncHNhKGFycmF5KCdwYWdlJywgJ3NvcnQnLCAn
ZGlyJywgJ2NyaXQnLCAnc2VhcmNoX21ldGhvZCcpKSk7CgoJCSRzZXN1dGF0cyA9IGFycmF5
X2ZsaXAoJHN0YXR1c2VzKTsKCgkJJGRpciA9ICgkZGlyID09ICdkZXNjJykgPyAnZGVzYycg
OiAnYXNjJzsKCgkJc3dpdGNoICgkc29ydCkKCQl7CgkJCWNhc2UgJ2lkJzoKCQkJCSRzb3J0
X3NxbCA9ICdpZCAnLiRkaXI7CgkJCWJyZWFrOwoKCQkJY2FzZSAndXNlcl9pZCc6CgkJCQkk
c29ydF9zcWwgPSAndXNlcl9pZCAnLiRkaXI7CgkJCWJyZWFrOwoKCQkJZGVmYXVsdDoKCQkJ
CSRkaXIgPSAnZGVzYyc7CgkJCQkkc29ydF9zcWwgPSAnaWQgJy4kZGlyOwoJCQlicmVhazsK
CQl9CgoJCSRzd2l0Y2hfZGlyID0gKCRkaXIgPT0gJ2Rlc2MnKSA/ICdhc2MnIDogJ2Rlc2Mn
OwoKCQkkY3JpdGVyaWEgPSAib3JkZXJfc3RhdHVzID0gJ3BlbmRpbmcnIjsKCgkJaWYoaXNz
ZXQoJHNob3dfYXBwcm92ZWQpKXsKCQkJJGNyaXRlcmlhIC49ICIgT1Igb3JkZXJfc3RhdHVz
ID0gJ2FwcHJvdmVkJyI7CgkJCSRzaG93X2FwcHJvdmVkX3NlbGVjdGVkID0gImNoZWNrZWQ9
J3RydWUnIjsKCQl9CgoJCWlmKGlzc2V0KCRzaG93X3NoaXBwZWQpKXsKCQkJJGNyaXRlcmlh
IC49ICIgT1Igb3JkZXJfc3RhdHVzID0gJ3NoaXBwZWQnIjsKCQkJJHNob3dfc2hpcHBlZF9z
ZWxlY3RlZCA9ICJjaGVja2VkPSd0cnVlJyI7CgkJfQoJCWlmKGlzc2V0KCRzaG93X2RlY2xp
bmVkKSl7CgkJCSRjcml0ZXJpYSAuPSAiIE9SIG9yZGVyX3N0YXR1cyA9ICdkZWNsaW5lZCci
OwoJCQkkc2hvd19kZWNsaW5lZF9zZWxlY3RlZCA9ICJjaGVja2VkPSd0cnVlJyI7CgkJfQoJ
CWlmKGlzc2V0KCRzaG93X3ZvaWQpKXsKCQkJJGNyaXRlcmlhIC49ICIgT1Igb3JkZXJfc3Rh
dHVzID0gJ3ZvaWQnIjsKCQkJJHNob3dfdm9pZF9zZWxlY3RlZCA9ICJjaGVja2VkPSd0cnVl
JyI7CgkJfQoKCgoJCSR0b3RhbCA9IHNhZmVfY291bnQoJ29yZGVycycsICIkY3JpdGVyaWEi
KTsKCgoKCQkkbGltaXQgPSBtYXgoQCRhcnRpY2xlX2xpc3RfcGFnZWJ5LCAxNSk7CgoJCWxp
c3QoJHBhZ2UsICRvZmZzZXQsICRudW1QYWdlcykgPSBwYWdlcigkdG90YWwsICRsaW1pdCwg
JHBhZ2UpOwoKCQkkcnMgPSBzYWZlX3Jvd3Nfc3RhcnQoJyonLCAnb3JkZXJzJywKCQkJIiRj
cml0ZXJpYSBvcmRlciBieSAkc29ydF9zcWwgbGltaXQgJG9mZnNldCwgJGxpbWl0IgoJCSk7
CgoJCSRleHBvcnRPcHRpb25zID0gJzxkaXYgc3R5bGU9ImRpc3BsYXk6bm9uZSIgaWQ9ImV4
cG9ydE9wdGlvbnMiIGNsYXNzPSJsaXN0Ij4nCgkJCQkJCQkuYnIuJ0V4cG9ydCA8c2VsZWN0
IG5hbWU9Im9yZGVyVHlwZSIgb25jaGFuZ2U9ImlmKHRoaXMudmFsdWUhPVwnXCcpe3dpbmRv
dy5sb2NhdGlvbj1cJ2h0dHA6Ly8nLiRzaXRldXJsLicvdGV4dHBhdHRlcm4vaW5kZXgucGhw
XCcrdGhpcy52YWx1ZX0iPicubi4KCQkJCQkJCW4uJzxvcHRpb24gdmFsdWU9IiIgc2VsZWN0
ZWQ9InRydWUiPlNlbGVjdCBleHBvcnQgb3B0aW9uczwvb3B0aW9uPicuCgkJCQkJCQluLic8
b3B0aW9uIHZhbHVlPSI/ZXZlbnQ9b3JkZXJzJnN0ZXA9ZXhwb3J0X29yZGVycyZ0eXBlPXBl
bmRpbmciPlBlbmRpbmc8L29wdGlvbj4nLgoJCQkJCQkJbi4nPG9wdGlvbiB2YWx1ZT0iP2V2
ZW50PW9yZGVycyZzdGVwPWV4cG9ydF9vcmRlcnMmdHlwZT1hcHByb3ZlZCI+QXBwcm92ZWQ8
L29wdGlvbj4nLgoJCQkJCQkJbi4nPG9wdGlvbiB2YWx1ZT0iP2V2ZW50PW9yZGVycyZzdGVw
PWV4cG9ydF9vcmRlcnMmdHlwZT1zaGlwcGVkIj5TaGlwcGVkPC9vcHRpb24+Jy4KCQkJCQkJ
CW4uJzxvcHRpb24gdmFsdWU9Ij9ldmVudD1vcmRlcnMmc3RlcD1leHBvcnRfb3JkZXJzJnR5
cGU9ZGVjbGluZWQiPkRlY2xpbmVkPC9vcHRpb24+Jy4KCQkJCQkJCW4uJzxvcHRpb24gdmFs
dWU9Ij9ldmVudD1vcmRlcnMmc3RlcD1leHBvcnRfb3JkZXJzJnR5cGU9dm9pZCI+Vm9pZDwv
b3B0aW9uPicuCgkJCQkJCQluLic8b3B0aW9uIHZhbHVlPSI/ZXZlbnQ9b3JkZXJzJnN0ZXA9
ZXhwb3J0X29yZGVycyZ0eXBlPWxhc3R3ZWVrIj5BbGwgb3JkZXJzIGluIHRoZSBsYXN0IDcg
ZGF5czwvb3B0aW9uPicuCgkJCQkJCQluLic8b3B0aW9uIHZhbHVlPSI/ZXZlbnQ9b3JkZXJz
JnN0ZXA9ZXhwb3J0X29yZGVycyZ0eXBlPWxhc3Rtb250aCI+QWxsIG9yZGVycyBpbiB0aGUg
bGFzdCAzMCBkYXlzPC9vcHRpb24+Jy4KCQkJCQkJCW4uJzxvcHRpb24gdmFsdWU9Ij9ldmVu
dD1vcmRlcnMmc3RlcD1leHBvcnRfb3JkZXJzJnR5cGU9YWxsIj5BbGwgb3JkZXJzIGV2ZXIh
PC9vcHRpb24+PC9zZWxlY3Q+IFs8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIG9uY2xp
Y2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnZXhwb3J0T3B0aW9uc1wnKS5zdHlsZS5k
aXNwbGF5ID0gXCdub25lXCc7Ij5jYW5jZWw8L2E+XScuCgkJCQkJCSAJJzwvZGl2Pic7CgkJ
aWYgKCRycykKCQl7CgoJCQllY2hvIG4ubi4nPGZvcm0gbmFtZT0ibG9uZ2Zvcm0iIG1ldGhv
ZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHAiIG9uc3VibWl0PSJyZXR1cm4gdmVyaWZ5KFwn
Jy5nVHh0KCdhcmVfeW91X3N1cmUnKS4nXCcpIj4nLgoJCQluLic8aW5wdXQgdHlwZT0iaGlk
ZGVuIiBuYW1lPSJldmVudCIgdmFsdWU9Im9yZGVycyIvPicubi4KCQkJbi5zdGFydFRhYmxl
KCdsaXN0JywnJywnJywnJywnNzAwJykuCgoJCQkJbi50cigKCQkJCQluLnRkYSgiRGlzcGxh
eWluZyAkb2Zmc2V0IC0gJGxpbWl0IG9mICR0b3RhbCBvcmRlcnMgIiwgJyBjb2xzcGFuPSIy
IiBzdHlsZT0iYm9yZGVyOiBub25lOyBwYWRkaW5nLWJvdHRvbTogMTVweDsiJykuCgkJCQkJ
bi50ZGEoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgb25jbGljaz0iZG9jdW1lbnQu
Z2V0RWxlbWVudEJ5SWQoXCdleHBvcnRPcHRpb25zXCcpLnN0eWxlLmRpc3BsYXk9XCdibG9j
a1wnOyIgY2xhc3M9Im5hdmxpbmsiPkV4cG9ydCBvcmRlcnM8L2E+Jy4kZXhwb3J0T3B0aW9u
cywgJyBjb2xzcGFuPSIzIiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQ7IGJvcmRlcjogbm9u
ZTsgcGFkZGluZy1ib3R0b206IDE1cHg7IicpCgkJCQkpLgoJCQkJbi50cigKCQkJCQluLnRk
YSgnU2hvdyA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHZhbHVlPSJwZW5kaW5nIiBuYW1lPSJz
aG93X3BlbmRpbmciIGNoZWNrZWQ9ImNoZWNrZWQiIGRpc2FibGVkPSJ0cnVlIi8+IFBlbmRp
bmcKCQkJCQkJICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiB2YWx1ZT0iYXBwcm92ZWQiIG5h
bWU9InNob3dfYXBwcm92ZWQiICcuJHNob3dfYXBwcm92ZWRfc2VsZWN0ZWQuJy8+IEFwcHJv
dmVkCgkJCQkJCSAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9InNoaXBwZWQiIG5h
bWU9InNob3dfc2hpcHBlZCIgJy4kc2hvd19zaGlwcGVkX3NlbGVjdGVkLicvPiBTaGlwcGVk
CgkJCQkJCSAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgdmFsdWU9ImRlY2xpbmVkIiBuYW1l
PSJzaG93X2RlY2xpbmVkIiAnLiRzaG93X2RlY2xpbmVkX3NlbGVjdGVkLicvPiBEZWNsaW5l
ZAoJCQkJCQkgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHZhbHVlPSJ2b2lkIiBuYW1lPSJz
aG93X3ZvaWQiJy4kc2hvd192b2lkX3NlbGVjdGVkLicgLz4gVm9pZAoJCQkJCQkgICA8aW5w
dXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iUmVmcmVzaCIvPiAnLCAnIGNvbHNwYW49IjQiIHN0
eWxlPSJib3JkZXI6IG5vbmU7IHBhZGRpbmctYm90dG9tOiAxNXB4OyInKQoJCQkJKS4KCQkJ
CW4udHIoCgkJCQkJbi5jb2x1bW5faGVhZCgnT3JkZXIgIycsICdpZCcsICdvcmRlcnMnLCB0
cnVlLCAkc3dpdGNoX2RpciwgJGNyaXQsICRzZWFyY2hfbWV0aG9kKS4KCQkJCQljb2x1bW5f
aGVhZCgnQ3VzdG9tZXInLCAndXNlcl9pZCcsICdvcmRlcnMnLCB0cnVlLCAkc3dpdGNoX2Rp
ciwgJGNyaXQsICRzZWFyY2hfbWV0aG9kKS4KCQkJCQljb2x1bW5faGVhZCgnT3JkZXIgRGF0
ZScsICdkYXRlX2NyZWF0ZWQnLCAnb3JkZXJzJywgdHJ1ZSwgJHN3aXRjaF9kaXIsICRjcml0
LCAkc2VhcmNoX21ldGhvZCkuCgkJCQkJY29sdW1uX2hlYWQoJ1RvdGFsJywgJ3RvdGFsJywg
J29yZGVycycsIHRydWUsICRzd2l0Y2hfZGlyLCAkY3JpdCwgJHNlYXJjaF9tZXRob2QpLgoJ
CQkJCWNvbHVtbl9oZWFkKCdTdGF0dXMnLCAnb3JkZXJfc3RhdHVzJywgJ29yZGVycycsIHRy
dWUsICRzd2l0Y2hfZGlyLCAkY3JpdCwgJHNlYXJjaF9tZXRob2QpCgkJCQkpOwoKCQkJaW5j
bHVkZV9vbmNlIHR4cGF0aC4nL3B1Ymxpc2gvdGFnaGFuZGxlcnMucGhwJzsKCgkJCXdoaWxl
ICgkYSA9IG5leHRSb3coJHJzKSkKCQkJewoJCQkJZXh0cmFjdCgkYSk7CgkJCQkkZWRpdF9s
aW5rID0gJzxhIGhyZWY9Ij9ldmVudD1vcmRlcnMmc3RlcD1lZGl0X29yZGVyJmlkPScuJGlk
LiciPicuJGlkLic8L2E+IDxzbWFsbD5bPGEgaHJlZj0iP2V2ZW50PW9yZGVycyZzdGVwPWVk
aXRfb3JkZXImaWQ9Jy4kaWQuJyI+RWRpdDwvYT4gfCA8YSBocmVmPSI/ZXZlbnQ9b3JkZXJz
JnN0ZXA9ZGVsZXRlX29yZGVyJmlkPScuJGlkLiciIG9uY2xpY2s9ImlmKCFjb25maXJtKFwn
QXJlIHlvdSBzdXJlP1wnKSl7cmV0dXJuIGZhbHNlO30iPkRlbGV0ZTwvYT5dPC9zbWFsbD4n
OwoJCQkJJHVzZXIgPSBzYWZlX3JvdygiUmVhbE5hbWUsIHVzZXJfaWQiLCAidHhwX3VzZXJz
IiwgInVzZXJfaWQgPSAnJHVzZXJfaWQnIik7CgkJCQkkdXNlcl9saW5rID0gJzxhIGhyZWY9
Ij9ldmVudD1jdXN0b21lcnMmc3RlcD1lZGl0X2N1c3RvbWVyJnVzZXJfaWQ9Jy4kdXNlcl9p
ZC4nIj4nLiR1c2VyWydSZWFsTmFtZSddLic8L2E+JzsKCQkJCWVjaG8gbi5uLnRyKAoKCQkJ
CQluLnRkKCRlZGl0X2xpbmspLgoKCQkJCQl0ZCgkdXNlcl9saW5rKS4KCgkJCQkJdGQoJGRh
dGVfY3JlYXRlZCkuCgoJCQkJCXRkKCckJy4kdG90YWwpLgoKCQkJCQl0ZCgkb3JkZXJfc3Rh
dHVzKQoJCQkJKTsKCQkJfQoKCQkJZWNobyBuLmVuZFRhYmxlKCkuCgkJCW4uJzwvZm9ybT4n
LgoKCQkJbi5uYXZfZm9ybSgnbGlzdCcsICRwYWdlLCAkbnVtUGFnZXMsICRzb3J0LCAkZGly
LCAkY3JpdCwgJHNlYXJjaF9tZXRob2QpLgoKCQkJbi5wYWdlYnlfZm9ybSgnbGlzdCcsICRh
cnRpY2xlX2xpc3RfcGFnZWJ5KTsKCQl9CgoJfQpmdW5jdGlvbiBvcmRlcnNfZXhwb3J0KCRl
dmVudCwgJHN0ZXApewoKCQkkdHlwZSA9ICRfR0VUWyd0eXBlJ107CgoJCSRjcml0ZXJpYSA9
ICcnOwoKCQlpZigkdHlwZSA9PSAicGVuZGluZyIgfHwgJHR5cGUgPT0gImFwcHJvdmVkIiB8
fCAkdHlwZT09InNoaXBwZWQiIHx8ICR0eXBlPT0iZGVjbGluZWQiIHx8ICR0eXBlPT0idm9p
ZCIpewoJCQkkY3JpdGVyaWEgLj0gIiBvcmRlcl9zdGF0dXMgPSAnJHR5cGUnICI7CgkJfWVs
c2UgaWYoJHR5cGUgPT0gImxhc3R3ZWVrIil7CgkJCSRjcml0ZXJpYSAuPSAiIGRhdGVfY3Jl
YXRlZCA+PSAiLmRhdGUoJ1ktbS1kJywgc3RydG90aW1lKCI3IGRheXMgYWdvIikpOwoJCX1l
bHNlIGlmKCR0eXBlID09ICJsYXN0bW9udGgiKXsKCQkJJGNyaXRlcmlhIC49ICIgZGF0ZV9j
cmVhdGVkID49ICIuZGF0ZSgnWS1tLWQnLCBzdHJ0b3RpbWUoIjMwIGRheXMgYWdvIikpOwoJ
CX1lbHNlewoJCQkkY3JpdGVyaWEgLj0gIiBpZCBub3QgbnVsbCI7CgkJfQoKCQkkc3FsID0g
IgoJCQlTRUxFQ1QgaWQsIGRhdGVfY3JlYXRlZCwgc3VidG90YWwsIHRheCwgc2hpcHBpbmdf
aGFuZGxpbmcsIGRpc2NvdW50LCB0b3RhbCwgdHJhbnNhY3Rpb25faWQsIHRyYWNraW5nX251
bWJlciwgbGFzdF91cGRhdGVkLCBvcmRlcl9zdGF0dXMsIHNoaXBfZGF0ZSwgc2hpcF9tZXRo
b2QsIG1lbW8sIG5vdGUsIHBheW1lbnRfbWV0aG9kLCBlbWFpbCwgYmlsbGluZ19maXJzdG5h
bWUsIGJpbGxpbmdfbGFzdG5hbWUsIGJpbGxpbmdfY29tcGFueSwgYmlsbGluZ19hZGRyZXNz
MSwgYmlsbGluZ19hZGRyZXNzMiwgYmlsbGluZ19jaXR5LCBiaWxsaW5nX3N0YXRlLCBiaWxs
aW5nX3ppcCwgYmlsbGluZ19jb3VudHJ5LCBiaWxsaW5nX2ZheCwgYmlsbGluZ19waG9uZSwg
c2hpcHBpbmdfZmlyc3RuYW1lLCBzaGlwcGluZ19sYXN0bmFtZSwgc2hpcHBpbmdfY29tcGFu
eSwgc2hpcHBpbmdfYWRkcmVzczEsIHNoaXBwaW5nX2FkZHJlc3MyLCBzaGlwcGluZ19jaXR5
LCBzaGlwcGluZ19zdGF0ZSwgc2hpcHBpbmdfemlwLCBzaGlwcGluZ19jb3VudHJ5LCBzaGlw
cGluZ19mYXgsIHNoaXBwaW5nX3Bob25lCgkJCUZST00gb3JkZXJzCgkJCUpPSU4gdHhwX3Vz
ZXJzIEFTIHVzZXJzIE9OIHVzZXJzLnVzZXJfaWQgPSBvcmRlcnMudXNlcl9pZCBXSEVSRSAk
Y3JpdGVyaWEiOwoKCQkkb3JkZXJzID0gc2FmZV9xdWVyeSgkc3FsKTsKCgoJCWhlYWRlcigi
Q29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9jc3YiKTsKCQloZWFkZXIoIkNvbnRlbnQtZGlz
cG9zaXRpb246YXR0YWNobWVudDtmaWxlbmFtZT1vcmRlcl9leHBvcnRfIi5kYXRlKCJZLW0t
ZCIpLiIuY3N2Iik7CgoJCWVjaG8gImlkLCBkYXRlX2NyZWF0ZWQsIHN1YnRvdGFsLCB0YXgs
IHNoaXBwaW5nX2hhbmRsaW5nLCBkaXNjb3VudCwgdG90YWwsIHRyYW5zYWN0aW9uX2lkLCB0
cmFja2luZ19udW1iZXIsIGxhc3RfdXBkYXRlZCwgb3JkZXJfc3RhdHVzLCBzaGlwX2RhdGUs
IHNoaXBfbWV0aG9kLCBtZW1vLCBub3RlLCBwYXltZW50X21ldGhvZCwgZW1haWwsIGJpbGxp
bmdfZmlyc3RuYW1lLCBiaWxsaW5nX2xhc3RuYW1lLCBiaWxsaW5nX2NvbXBhbnksIGJpbGxp
bmdfYWRkcmVzczEsIGJpbGxpbmdfYWRkcmVzczIsIGJpbGxpbmdfY2l0eSwgYmlsbGluZ19z
dGF0ZSwgYmlsbGluZ196aXAsIGJpbGxpbmdfY291bnRyeSwgYmlsbGluZ19mYXgsIGJpbGxp
bmdfcGhvbmUsIHNoaXBwaW5nX2ZpcnN0bmFtZSwgc2hpcHBpbmdfbGFzdG5hbWUsIHNoaXBw
aW5nX2NvbXBhbnksIHNoaXBwaW5nX2FkZHJlc3MxLCBzaGlwcGluZ19hZGRyZXNzMiwgc2hp
cHBpbmdfY2l0eSwgc2hpcHBpbmdfc3RhdGUsIHNoaXBwaW5nX3ppcCwgc2hpcHBpbmdfY291
bnRyeSwgc2hpcHBpbmdfZmF4LCBzaGlwcGluZ19waG9uZSwgSVRFTVMgXG4iOwoKCQl3aGls
ZSgkb3JkZXIgPSBteXNxbF9mZXRjaF9hc3NvYygkb3JkZXJzKSl7CgoJCQllY2hvIGltcGxv
ZGUoIiwiLCAkb3JkZXIpOwoKCQkJJHNxbCA9ICIKCQkJCVNFTEVDVCAqCgkJCQlGUk9NIHRl
eHRwYXR0ZXJuIEFTIHR4cAoJCQkJSk9JTiBvcmRlcnNfYXJ0aWNsZXMgQVMgb2EKCQkJCU9O
IG9hLmFydGljbGVfaWQgPSB0eHAuSUQKCQkJCVdIRVJFIG9hLm9yZGVyX2lkID0gIi4kb3Jk
ZXJbJ2lkJ107CgoJCQkkcHJvZHVjdHMgPSBzYWZlX3F1ZXJ5KCRzcWwpOwoKCQkJd2hpbGUo
JHByb2R1Y3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKXsKCQkJCWVjaG8gIiwi
LiAkcHJvZHVjdFsnVGl0bGUnXSAuICIgIiAuICRwcm9kdWN0WydjdXN0b21fMSddOwoJCQl9
CgkJCWVjaG8gIlxuIjsKCQl9CgkJZGllKCk7Cgl9CgoKCmZ1bmN0aW9uIG9yZGVyc191cGRh
dGUoJGV2ZW50LCAkc3RlcCl7CgoJCWdsb2JhbCAkdHhwX3VzZXIsICR2YXJzLCAkdHhwY2Zn
LCAkcHJlZnM7CgoJCWV4dHJhY3QoJHByZWZzKTsKCgkJZXh0cmFjdChkb1NsYXNoKCRfUkVR
VUVTVCkpOwoKCQlpZihpc3NldCgkc2hpcF9ub3cpKXsKCQkJJHNoaXBfZGF0ZSA9ICdjdXJy
ZW50X3RpbWVzdGFtcCgpJzsKCQl9ZWxzZXsKCQkJJHNoaXBfZGF0ZSA9ICInIi5kYXRlKCJZ
LW0tZCIsIHN0cnRvdGltZSgkc2hpcF95ZWFyLictJy4kc2hpcF9tb250aC4nLScuJHNoaXBf
ZGF5KSkuIiciOwoJCX0KCQkkcnMgPSBzYWZlX3VwZGF0ZSgnb3JkZXJzJywgIgoJCQl0cmFj
a2luZ19udW1iZXIJCSA9ICckdHJhY2tpbmdfbnVtYmVyJywKCQkJb3JkZXJfc3RhdHVzCQkg
PSAnJG9yZGVyX3N0YXR1cycsCgkJCXNoaXBfZGF0ZSAJCQkgPSAkc2hpcF9kYXRlLAoJCQlz
aGlwX21ldGhvZAkJCSA9ICckc2hpcF9tZXRob2QnLAoJCQlub3RlIAkJCQkgPSAnJG5vdGUn
IiwKCQkJImlkID0gJGlkIgoJCQkpOwoJCWlmICgkcnMpCgkJewoJCQlvcmRlcnNfZWRpdCgn
JywgJycsICJPcmRlciB1cGRhdGVkIik7CgkJfWVsc2V7CgkJCW9yZGVyc19lZGl0KCJUaGVy
ZSB3YXMgYW4gZXJyb3IgdHJ5aW5nIHRvIHVwZGF0ZSB0aGUgb3JkZXI6ICIubXlzcWxfZXJy
b3IoKSk7CgkJfQoKCX0KCmZ1bmN0aW9uIG9yZGVyc19kZWxldGUoJGV2ZW50LCAkc3RlcCl7
CgoJCWdsb2JhbCAkdHhwX3VzZXIsICR2YXJzLCAkdHhwY2ZnLCAkcHJlZnM7CgoJCWV4dHJh
Y3QoJHByZWZzKTsKCgkJZXh0cmFjdChkb1NsYXNoKCRfUkVRVUVTVCkpOwoKCQlpZihpc3Nl
dCgkaWQpKXsKCQkJJHJzID0gc2FmZV9kZWxldGUoJ29yZGVycycsICJpZCA9ICRpZCIpOwoJ
CX0KCQlpZiAoJHJzKQoJCXsKCQkJb3JkZXJzX2xpc3QoJycsICcnLCAiT3JkZXIgRGVsZXRl
ZCIpOwoJCX1lbHNlewoJCQlvcmRlcnNfbGlzdCgiVGhlcmUgd2FzIGFuIGVycm9yIHRyeWlu
ZyB0byB1cGRhdGUgdGhlIG9yZGVyOiAiLm15c3FsX2Vycm9yKCkpOwoJCX0KCgl9CgoKCgoK
CgoKCgoKCgoiO3M6MzoibWQ1IjtzOjMyOiJhMWY3YmMxMGY0NjBmMmUxODgyMDQ3ZmJmOGZm
ZTcwMCI7fQ==
